MODULE RB;

REQUIRE System,

        Utils,
        Stock,
        Barcode,
        Numerator,
        Document,
        Historizable,
        Consignment,
        PriceChange,
        Declaration,
        CStoWH,
        WHfromCS,
        WHtoS,
        StoS,
        StoWH,
        SfromS,
        SfromWH,
        WHfromS,
        WHtoWH,
        WHfromWH,
        WholesalePrice,
        RetailPrice,
        RomanLogicsModule;

PRIORITY RomanLogicsModule, Utils, Stock, Store;

EXTEND FORM stores

    PROPERTIES(s) READONLY sidDestination FORCE GRID

    OBJECTS su=supplier
    PROPERTIES(su)    READONLY name
    PROPERTIES(s, su) READONLY sidDestinationSupplier, relationStoreSupplier
    FILTERGROUP filtersDocument
        FILTER 'Связь маг./пост.' 'F11' relationStoreSupplier(s, su) DEFAULT
;

EXTEND DESIGN stores {
    main {
        preferredSize = (1024, 768);

        firstCase {
            NEW supDep {
                type = TABBED;
                ADD d.box;
                ADD su.box;
            }
        }
    }
}

EXTEND FORM store

    PROPERTIES(s) sidDestination

    OBJECTS su=supplier
    PROPERTIES(su)    READONLY name
    PROPERTIES(s, su) sidDestinationSupplier, relationStoreSupplier
    FILTERGROUP filtersDocument
        FILTER 'Связь маг./пост.' 'F11' relationStoreSupplier(s, su) DEFAULT
;

DESIGN store FROM DEFAULT {
    main {
        preferredSize = (1024, 768);
        childConstraints = TO THE BOTTOM;
        ADD s.box {
            childConstraints = TO THE RIGHTBOTTOM;
        }
        NEW row1 {
            childConstraints = TO THE RIGHT;
            ADD d.box;
            ADD su.box;
        }
        ADD functions.box;
    }
}


NAVIGATOR {
    classifier {
      //  ADD stores;
        ADD UOM;
        ADD taxes;
        ADD banks;
        ADD employees;
        ADD importers;
        ADD stores;
        ADD companies;
        ADD contractsSkuCompany;
    }
    customs {
        customClassifier {
            ADD customStores;
            ADD certificates;
        }

        NEW customDocument 'Документы' TO leftToolbar {
            ADD declarations;
            ADD CStoWHs;
        }

        NEW customReport 'Сводная информация' TO leftToolbar {
            ADD innerInvoices;
        }
    }

    prices {
        NEW pricesDocument 'Документы' {
            NEW retailPriceBase 'Розничное ценообразование'{
                ADD coefficientRetails;
                ADD priceBaseChangeDocuments;
                ADD freights;
            }

            NEW wholesalePrice 'Оптовое ценообразование' {
                ADD wholesalePriceDocuments;
                ADD priceDeclaration;
            }

            NEW discountPrice 'Распродажи' {
                ADD discountPriceSetDocuments;
            }

            ADD priceChangeDocuments;
            ADD priceChangeCommitteeDialog;
        }
    }

    accountInfo {
        ADD currentBalanceSkuStock;
        ADD costSkuLedger;
        ADD costSkuBatchLedger;
        ADD balanceSkuStock;
        ADD currentBalanceBatchStock;
        ADD balanceBatchStock;
    }

    printForms{
        ADD consignmentVerticalA;
        ADD consignmentHorizontalA;
        ADD consignmentVerticalB;
        ADD consignmentHorizontalB;
        ADD consignmentAttach;
        ADD consignmentSimpleHorizontal;
        ADD consignmentSimpleVertical;
        ADD consignmentSimpleAttach;
        ADD consignment;
      //  ADD printMarksWHfromCS;
    }

    merchandising {

        merchandisingClassifier 'Справочники' {
            ADD warehouses;
        }

        NEW merchandisingDocument 'Документы' {
            ADD WHfromCSs;
            ADD WHtoSs;
            ADD WHfromSs;
            ADD WHtoWHs;
            ADD WHfromWHs;
        }
    }

    merchandisingStore {
        NEW merchandisingStoreDocument 'Документы' {
            ADD SfromWHs;
            ADD StoSs;
            ADD SfromSs;
            ADD StoWHs;
        }
    }

    adminElement {
        ADD certificate;
        ADD declaration;
        ADD priceSetDocument;
        ADD discountPriceSetDocument;
        ADD declarationInvoices;
        ADD coefficientRetail;
        ADD logPriceArticle;
        ADD dialogDate;
        ADD numerators;
        ADD numerator;
        ADD CStoWH;
        ADD WHfromCSI;
        ADD WHtoS;
        ADD declarationDetailCStoWHInput;
        ADD unitsOfMeasure;
        ADD tax;
        ADD ware;
        ADD wares;
        ADD ownership;
        ADD addWarePrice;
        ADD dialogWarePrice;
        ADD addRangeWare;
        ADD dialogRangeWare;
        ADD addAddressBank;
        ADD dialogAddressBank;
        ADD bank;
        ADD position;
        ADD employee;
        ADD employeeDialog;
        ADD barcodeInput;
        ADD importer;
        ADD customStore;
        ADD UOM;
        ADD ware;
        ADD barcodeInput;
        ADD employee;
        ADD employeeDialog;
        ADD position;
        ADD addTradingSquareDepartmentStore;
        ADD dialogTradingSquareDepartmentStore;
        ADD departmentStore;
        ADD departmentStores;
        ADD store;
        ADD chainStores;
        ADD bank;
        ADD ownership;
        ADD supplier;
        ADD contract;
        ADD tax;
        ADD addAddressLegalEntity;
        ADD dialogAddressLegalEntity;
        ADD addPostAddressLegalEntity;
        ADD dialogPostAddressLegalEntity;
        ADD addManagerLegalEntity;
        ADD dialogManagerLegalEntity;
        ADD addAccountantLegalEntity;
        ADD dialogAccountantLegalEntity;
        ADD addPhoneLegalEntity;
        ADD dialogPhoneLegalEntity;
        ADD addControlSupplierStock;
        ADD dialogControlSupplierStock;
        ADD addSureSupplierStock;
        ADD dialogSureSupplierStock;
        ADD addAddressBank;
        ADD sumAccountDocumentLedger;
        ADD dialogAddressBank;
        ADD addTypeContractSku;
        ADD dialogTypeContractSku;
        ADD addFormContractSku;
        ADD dialogFormContractSku;
        ADD addDelayContractSku;
        ADD dialogDelayContractSku;
        ADD contractSku;
        ADD contractSkuSupplier;
        ADD contractsSkuSupplier;
        ADD contractSkuCompany;
        ADD contractsSkuCompany;
        ADD numerator;
        ADD dialogDate;
        ADD dialogSku;
        ADD storeForm;
        ADD suppliers;
        ADD contractSkuCompany;
        ADD wholesalePriceDocument;
        ADD SfromWH;
        ADD warehouse;
        ADD WHtoS;
        ADD StoS;
        ADD SfromS;
        ADD StoS;
        ADD SfromS;
        ADD syncBarcodeSkuForm;
        ADD priceChangePrint;
        ADD priceChangeCommittee;
        ADD company;
        ADD StoWH;
        ADD StoWHsDialog;
        ADD WHfromS;
        ADD WHtoWH;
        ADD WHfromWH;
        ADD addSupplierVATCustomCategory10;
        ADD dialogSupplierVATCustomCategory10;
    }
}
