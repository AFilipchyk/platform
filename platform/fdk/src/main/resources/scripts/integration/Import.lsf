MODULE Import;

REQUIRE System,
        Barcode,
        Compliance,
        Country,
        Currency,
        CustomsGroup,
        Employee,
        Integration,
        Item,
        LegalEntity,
        LegalEntityBy,
        Bank,
        Numerator,
        PriceList,
        PurchaseCompliance,
        PurchaseInvoice,
        PurchaseInvoiceCharge,
        PurchaseManufacturingPrice,
        PurchaseShipment,
        PurchaseWriteOff,
        PricingPurchase,
        ScalesItem,
        Stock,
        Store,
        Tax,
        TaxItem,
        Ware,
        Warehouse,
        WareItem,
        WriteOffItem;

EXTEND CLASS bank : externalizable;
EXTEND CLASS barcode : externalizable;
EXTEND CLASS brand : externalizable;
EXTEND CLASS calcPriceListType : externalizable;
EXTEND CLASS chainStores : externalizable;
EXTEND CLASS departmentStore : externalizable;
EXTEND CLASS employee : externalizable;
EXTEND CLASS item : externalizable;
EXTEND CLASS itemGroup : externalizable;
EXTEND CLASS legalEntity : externalizable;
EXTEND CLASS position : externalizable;
EXTEND CLASS store : externalizable;
EXTEND CLASS UOM : externalizable;
EXTEND CLASS userContractSku : externalizable;
EXTEND CLASS userInvoiceDetail : externalizable;
EXTEND CLASS userPriceList : externalizable;
EXTEND CLASS ware : externalizable;
EXTEND CLASS warehouse : externalizable;
EXTEND CLASS warehouseGroup : externalizable;
EXTEND CLASS writeOffRate : externalizable;

userPriceListDetailSkuSIDUserPriceListSID (sku, userPriceList) = GROUP UNIQUE userPriceListDetail BY sidExternalizable(skuUserPriceListDetail(userPriceListDetail)), sidExternalizable(userPriceListUserPriceListDetail(userPriceListDetail)) WHERE userPriceListDetail IS userPriceListDetail;

sidExternalizableBatch 'Внешний код' (batch) = ABSTRACT STRING[100] (batch) PERSISTENT;

sidExternalizableBatch (batch) += sidExternalizable (invoiceDetailShipmentDetail(shipmentDetailShipmentBatch(batch))) IF batch IS shipmentBatch;

EXTEND FORM legalEntities
    PROPERTIES (l) READONLY sidExternalizable BEFORE delete(l)
;

EXTEND FORM banks
    PROPERTIES (b) READONLY sidExternalizable BEFORE delete(b)
;

EXTEND FORM wares
    PROPERTIES (w) READONLY sidExternalizable BEFORE delete(w)
;

