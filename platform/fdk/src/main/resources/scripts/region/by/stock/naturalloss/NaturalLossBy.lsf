MODULE NaturalLossBy;

REQUIRE NaturalLoss;

NAMESPACE NaturalLoss;

FORM printNaturalLossBy 'Ведомость естественной убыли' PRINT
    OBJECTS s=NaturalLoss FIXED PANEL
    PROPERTIES(s) READONLY SELECTOR numberObject, nameStockNaturalLoss, timeNaturalLoss, seriesObject,
                           dateNaturalLoss, dateFromNaturalLoss, dateToNaturalLoss,
                           quantityNaturalLossDetailNaturalLoss, sumNaturalLoss, noteNaturalLoss
    OBJECTS d=NaturalLossDetail
    PROPERTIES(d) READONLY indexNaturalLossDetail, idBarcodeSkuNaturalLossDetail, nameSkuNaturalLossDetail, shortNameUOMSkuNaturalLossDetail,
                           nameBatchNaturalLossDetail, quantityLossNaturalLossDetail, nameSubNaturalLossGroupNaturalLossDetail,
                           codeNaturalLossDetail, nameSubNaturalDetailNaturalLossDetail, percentNaturalLossDetail, quantityNaturalLossDetail,
                           priceNaturalLossDetail, sumNaturalLossDetail

    FILTERS inNaturalLossNaturalLossDetail(s, d)
;

printNaturalLossBy 'Ведомость естественной убыли' (naturalLoss) = ACTION FORM printNaturalLossBy OBJECTS s = naturalLoss IMAGE 'print.png' IN printGroup;

EXTEND FORM naturalLosses

    PROPERTIES(s) printNaturalLossBy FORCE PANEL
;

EXTEND DESIGN naturalLosses {
    printContainer {
        ADD s.printGroup;
    }
}