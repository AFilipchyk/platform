MODULE I18n;

REQUIRE System;

// ------------------------------------------------ Язык ---------------------------------------------- //

CLASS language 'Язык' : named;
TABLE language(language);

localeLanguage 'Locale' = DATA STRING[5] (language);

dictionaryLanguage = DATA dictionary(language);
nameDictionaryLanguage 'Словарь' = name(dictionaryLanguage(language)) IN baseGroup;

FORM language 'Язык'
    OBJECTS l = language FIXED PANEL
    PROPERTIES(l) name, localeLanguage, nameDictionaryLanguage

    EDIT language OBJECT l
;

FORM languages 'Языки'
    OBJECTS l = language
    PROPERTIES(l) READONLY name, localeLanguage, nameDictionaryLanguage
    PROPERTIES(l)          ADDFORM, EDITFORM, delete

    DIALOG language OBJECT l
;

NAVIGATOR {
    catalogElement {
        ADD languages;
    }
}

// ---------------------------------------------- Мультиязычный объект -------------------------------- //


TABLE multiLanguageNamedLanguage(multiLanguageNamed, language);
languageName 'Название (иностр.)' = DATA ISTRING[110] (multiLanguageNamed, language);

// ---------------------------------------------- Словари --------------------------------------------- //

FORM dictionary 'Словарь'
    OBJECTS d = dictionary FIXED PANEL
    PROPERTIES(d) name

    OBJECTS e = dictionaryEntry
    PROPERTIES(e) termDictionary, translationDictionary, ADDOBJ, delete
    FILTERS       entryDictionary(e) == d

    EDIT dictionary OBJECT d
;

FORM dictionaries 'Словари'
    OBJECTS d = dictionary
    PROPERTIES(d) READONLY name

    PROPERTIES(d) ADDFORM, EDITFORM, delete

    DIALOG dictionary OBJECT d
;

NAVIGATOR {
    catalogElement {
        ADD dictionaries;
    }
}
