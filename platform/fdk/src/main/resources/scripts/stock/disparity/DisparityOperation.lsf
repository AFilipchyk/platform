MODULE DisparityOperation;

REQUIRE Operation, Disparity;

@defineOperation('(изменение сортности)');
@defineOperationRole();
@extendFormFilterRole(o, dialogOperations);

createRepricingOperation 'Создать акт переоценки' = DATA BOOLEAN (Operation) IN createGroup;

EXTEND FORM operation
    PROPERTIES(o) createRepricingOperation
;

EXTEND DESIGN operation {
    tabContainer{
        NEW aggrContainer{
            caption = 'Производные документы';
            ADD PROPERTY(createRepricingOperation);
        }
    }
}

NAVIGATOR {
    disparityNavigator {
        ADD operations;
    }
}

//------------------------------------------ Опеределение операции для disparity ------------------------------------//

operationDisparity = DATA Operation (Disparity) PERSISTENT;
nameOperationDisparity 'Операция' = name(operationDisparity(disparity));

operationDisparityDetail 'Операция' (disparityDetail) = operationDisparity(disparityDisparityDetail(disparityDetail));

EXTEND FORM disparity
    PROPERTIES(dis) nameOperationDisparity
;

EXTEND DESIGN disparity{
    dis.documentPrmGroup{
        ADD PROPERTY(nameOperationDisparity) BEFORE PROPERTY(noteDisparity);
    }
}
