MODULE ItemArticle;

REQUIRE System, Item;

NAMESPACE Item;

GROUP itemArticleGroup 'Артикул' : public;

// Артикул
CLASS Article 'Артикул' : Named;
TABLE article(Article);

@defineObjectItemAttribute(article, name, 'Артикул', itemArticleGroup);
@defineObjectItemAttributeBatch (article, name, 'Артикул');

// Цвет
CLASS Color 'Цвет товара' : Named;
TABLE color (Color);

@defineObjectItemAttribute(color, name, 'Цвет', itemArticleGroup);
@defineObjectItemAttributeBatch (color, name, 'Цвет');

// Размер
CLASS Size 'Размер товара' : DoubleNamed;
TABLE size(Size);

@defineObjectItemAttribute(size, name, 'Размер', itemArticleGroup);
@defineObjectItemAttributeBatch (size, name, 'Размер');
@implementObjectShortItemAttribute(size, 'Размер (сокр.)');


overCopyItem(s, d) += ACTION (s, d) {
    SET articleItem(d) <- articleItem(s);
    SET colorItem(d) <- colorItem(s);
    SET sizeItem(d) <- sizeItem(s);
}

EXTEND DESIGN item { itemPrimaryColumn2 { ADD i.itemArticleGroup; } }
