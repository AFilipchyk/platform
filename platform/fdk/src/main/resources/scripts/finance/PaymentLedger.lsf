MODULE PaymentLedger;

REQUIRE LegalEntity;

// ---------------- Счет ------------- //

CLASS ABSTRACT account 'Счет';
TABLE account (account);
nameAccount 'Имя' = ABSTRACT STRING[30] (account) PERSISTENT;

// ---------------- Регистр денег ------------- //

CLASS ABSTRACT paymentLedger 'Движение денег';
TABLE paymentLedger(paymentLedger);

dateTimePaymentLedger 'Дата/время' = ABSTRACT DATETIME (paymentLedger) PERSISTENT;

legalEntityFromPaymentLedger = ABSTRACT legalEntity (paymentLedger) PERSISTENT;
nameLegalEntityFromPaymentLedger 'Организация (с)' = name(legalEntityFromPaymentLedger(ledger));

accountFromPaymentLedger = ABSTRACT account (paymentLedger) PERSISTENT;
nameAccountFromPaymentLedger 'Счет (с)' (ledger) = nameAccount(accountFromPaymentLedger(ledger));

legalEntityToPaymentLedger = ABSTRACT legalEntity (paymentLedger) PERSISTENT;
nameLegalEntityToPaymentLedger 'Организация (на)' = name(legalEntityToPaymentLedger(ledger));

accountToPaymentLedger = ABSTRACT account (paymentLedger) PERSISTENT;
nameAccountToPaymentLedger 'Счет (на)' (ledger) = nameAccount(accountToPaymentLedger(ledger));

sumPaymentLedger 'Сумма' = ABSTRACT NUMERIC[16,2] (paymentLedger) PERSISTENT;

descriptionPaymentLedger 'Описание' = ABSTRACT STRING[200] (paymentLedger) PERSISTENT;
